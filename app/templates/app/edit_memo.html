{% extends "app/base.html" %}
{% load static %}
{% block content %}
<div class="container mt-5">
    <h2 class="mb-4">メモ編集</h2>

    <form method="post">
        {% csrf_token %}
        
        <div class="form-group">
            <label for="{{ form.title.id_for_label }}">タイトル</label>
            {{ form.title }}
            {% if form.title.errors %}
                <div class="text-danger">{{ form.title.errors }}</div>
            {% endif %}
        </div>

        <div class="form-group">
            <label for="{{ form.memo_type.id_for_label }}">種別</label>
            {{ form.memo_type }}
            {% if form.memo_type.errors %}
                <div class="text-danger">{{ form.memo_type.errors }}</div>
            {% endif %}
        </div>

        <div class="form-group">
            <label for="{{ form.content.id_for_label }}">詳細</label>
            {{ form.content }}
            {% if form.content.errors %}
                <div class="text-danger">{{ form.content.errors }}</div>
            {% endif %}
        </div>

        <div class="form-group form-check">
            {{ form.is_favorite }}
            <label class="form-check-label" for="{{ form.is_favorite.id_for_label }}">
                お気に入りに追加
            </label>
            {% if form.is_favorite.errors %}
                <div class="text-danger">{{ form.is_favorite.errors }}</div>
            {% endif %}
        </div>

        {% if form.non_field_errors %}
            <div class="alert alert-danger">
                {{ form.non_field_errors }}
            </div>
        {% endif %}

        <div class="form-group">
            <button type="submit" class="btn btn-primary">更新</button>
            <a href="{% url 'memo_list' %}" class="btn btn-secondary">キャンセル</a>
        </div>
    </form>

    <div class="mt-4 p-3 bg-light">
        <h5>メモ詳細情報</h5>
        <p><strong>登録日:</strong> {{ memo.created_date|date:"Y年m月d日 H:i" }}</p>
        <p><strong>更新日:</strong> {{ memo.updated_date|date:"Y年m月d日 H:i" }}</p>
    </div>
</div>
{% endblock %}